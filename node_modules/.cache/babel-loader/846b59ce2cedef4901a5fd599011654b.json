{"ast":null,"code":"import _slicedToArray from\"/Users/hienle/Documents/GitHub/comfortNFT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/hienle/Documents/GitHub/comfortNFT/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-flow: column;\\n  justify-content: center;\\n  align-items: center;\\n  font-size: 18px;\\n  font-weight: 600;\\n  width: 100%;\\n  color: \",\";\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useEffect,useState}from\"react\";import{Container,Spacer}from\"react-neu\";import Page from\"components/Page\";import PageHeader from\"components/PageHeader\";import Split from\"components/Split\";import SingleHarvestCard from\"./SingleHarvest\";import SingleStakeCard from\"./SingleStake\";import useStaking from\"hooks/useStaking\";import BigNumber from\"bignumber.js\";import styled from\"styled-components\";var StyledNotice=styled.div(_templateObject(),function(props){return props.theme.colors.primary.main;});var Stake=function Stake(){var _useStaking=useStaking(),userStakes=_useStaking.userStakes;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showContactMessage=_useState2[0],setShowContactMessage=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showHasUnstaked=_useState4[0],setShowHasUnstaked=_useState4[1];useEffect(function(){if(userStakes){// see 1 and 2 in SingleStake.tsx\n// 1. if any stake with amount == 0 and lockDate > 0 disable stake button\n// 2. if any stake lockDate > currentTime disable unstake button.\n// 3. if there is stake with amount ==0 followed by any stake with amount > 0 then have them contact us for help\nvar hasUnstaked=userStakes.filter(function(s){return new BigNumber(s.amount).eq(0);});setShowHasUnstaked(hasUnstaked.length>0);if(hasUnstaked.length>0){var contactMessage=userStakes.filter(function(s){return new BigNumber(s.amount).gt(0);});setShowContactMessage(contactMessage.length>0);}}},[userStakes]);return/*#__PURE__*/React.createElement(Page,null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(PageHeader,{imgSrc:\"\",subtitle:\"One stake per account\",title:\"Stake STRN, earn STXP\"}),/*#__PURE__*/React.createElement(Split,null,/*#__PURE__*/React.createElement(SingleStakeCard,null),/*#__PURE__*/React.createElement(SingleHarvestCard,null)),/*#__PURE__*/React.createElement(Spacer,{size:\"lg\"}),/*#__PURE__*/React.createElement(PageHeader,{imgSrc:\"\",subtitle:\"Unstaking automatically claims STXP\",title:\"\"}),/*#__PURE__*/React.createElement(Spacer,null),/*#__PURE__*/React.createElement(Spacer,{size:\"md\"}),showContactMessage&&/*#__PURE__*/React.createElement(StyledNotice,null,/*#__PURE__*/React.createElement(\"span\",null,\"There might be an issue with your STRN stake.\"),/*#__PURE__*/React.createElement(\"span\",null,\"Please contact us in discord, see link below.\")),/*#__PURE__*/React.createElement(Spacer,{size:\"md\"}),showHasUnstaked&&/*#__PURE__*/React.createElement(StyledNotice,null,/*#__PURE__*/React.createElement(\"span\",null,\"This account has already staked and unstaked.\"),/*#__PURE__*/React.createElement(\"span\",null,\"Staking is been disabled. You can use a different account.\"))));};export default Stake;","map":null,"metadata":{},"sourceType":"module"}